# vSwoole-2.0.0
vSwoole是对Swoole扩展的超轻量级封装，主要用于PHP微型服务器开发。
框架汲取大多数Web框架可用的特点，尽量减少服务器开发与Web开发的不同（同步执行），又保持服务器开发的一些必须要求（异步执行）。

## 框架特点：
+ 客户端与服务端模块化分离，减少框架耦合性
+ 服务与框架分离，易于框架升级
+ 配置文件模块化，增强可维护性
+ 服务进程号统一管理
+ 服务模块核心层，基础层，逻辑层分离，增强可开发管理性
+ 框架功能组件化，易于统一调用
+ 框架配置缓存化，加速配置读取
+ 组件对象静态化，加速组件调用
+ 组件对象单例化，减少内存消耗
+ 框架异常提示优化，反射异常源代码，直观显示错误异常
+ 管理客户端与用户客户端端口区分连接，服务接口也以端口区分，加强连接安全性
+ 文件IO同步与异步调用组件化，统一调用
+ 缓存同步与异步操作组件化，以参数区别调用
+ 服务支持分布式部署
+ Timer定时器服务，异步任务毫秒数定时处理
+ Task，Process等扩展底层调用方法封装成组件，便于使用
+ 服务管理，如重启，关闭，启动等，可通过管理客户端调用服务接口，也可通过命令行管理
+ 支持命令行构建服务核心类文件，节省开发时间
+ 支持Inotify监听代码改动，自动重启工作进程
+ 服务对外以接口方式提供服务和管理
+ 服务配置参数框架底层自动优化
+ 框架可独立使用，可作为组件被其他框架引入
+ 命令行提供：install（安装目录），clear（清理日志），build（构建服务核心文件），start（启动指定服务），reload（重启指定服务），shutdown（关闭指定服务），help（帮助）等命令

## 环境要求：
> PHP7.0以上

> swoole扩展2.0以上

> hiredis扩展

## 目录结构

~~~
vSwoole（服务框架目录）
├─application                   框架应用根目录
│   │
│   ├─client                    客户端应用目录
│   │   ├─logic                 客户端应用逻辑目录
│   │   ├─ClientName.php        客户端应用基础层
│   │   └─···              
│   └─server                    服务端应用目录
│       ├─logic                 服务端应用逻辑目录
│       ├─ServerName.php        服务端应用基础层
│       └─···              
│
├─configs                       框架配置根目录
│   │ 
│   ├─const.php                 服务注册
│   ├─config.php                基础配置
│   ├─redis.php                 缓存配置
│   ├─db.php                    数据库配置
│   ├─server.php                基础服务配置
│   └─···                       
│
├─core                          服务核心根目录
│   │
│   ├─client                    客户端核心目录
│   │   ├─ServerClient.php      客户端核心类
│   │   └─···              
│   └─server                    服务端核心目录
│       ├─ServerServer.php      服务端核心类
│       └─···
│
├─data                          框架数据根目录
│   │ 
│   ├─pid                       服务进程PID目录
│   │   ├─Server_Manager.pid    服务管理进程PID
│   │   ├─Server_Master.pid     服务主进程PID
│   │   └─···                   
│   └─cache                     缓存文件目录
│       ├─cache.php             缓存文件
│       └─···
│       
├─library                       框架核心目录
│   │
│   ├─client                    客户端核心目录
│   │   └─Client.php            客户端底层抽象模型
│   │─server                    服务端核心目录
│   │   └─Server.php            服务端底层抽象模型
│   ├─common                    核心工具类目录
│   │   ├─cache                 服务缓存方法目录
│   │   ├─exception             服务异常处理类目录
│   │   ├─kafka                 服务kafka类目录
│   │   ├─reflection            反射类目录
│   │   ├─Build.php             服务核心层构建类
│   │   ├─Command.php           服务管理命令类
│   │   ├─Config.php            服务配置类  
│   │   ├─File.php              服务文件处理类
│   │   ├─Log.php               服务日志处理类
│   │   ├─Process.php           服务进程管理类
│   │   ├─Redis.php             服务缓存处理类
│   │   ├─Request.php           服务客户端请求处理类
│   │   ├─Respinse.php          服务客户端响应处理类
│   │   ├─Task.php              服务异步任务处理类
│   │   ├─Utils.php             服务其他工具类
│   │   └─···
│   ├─conf                      框架核心配置目录
│   │   ├─config.php            框架核心配置
│   │   └─const.php             框架核心常量配置
│   └─Init.php                  框架初始化引导类
│
├─log                           框架日志目录
│   │   
│   ├─client                    客户端日志目录                    
│   │   └─···
│   └─server                    服务端日志目录
│       └─···
│                         
└─public                        框架公共目录
    │
    ├─static                    框架静态文件目录
    │   └─···
    ├─index.php                 第三方框架接入文件
    ├─client.php                客户端接口入口文件
    └─swoole.php                服务端管理入口文件
~~~

## 开发文档
https://www.kancloud.cn/zengzhifei/vswoole

## 开发规范
* 类名和类文件名保持一致，以大驼峰方式命名。
* 类命名空间从框架根目录开始命名，且需与路径完全一致（否则第三方接入后，自动引入类文件会冲突失效）。
* 框架初始目录名不可以改变，目录名为小写。
* 常量以全字母大写命名，以下划线'_'分隔，以VSWOOLE开头。
* 其他没有强制要求。